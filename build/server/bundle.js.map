{"version":3,"file":"bundle.js","sources":["webpack:///webpack/bootstrap 6cb9eca48d7f35935583","webpack:///external \"react\"","webpack:///src/server/index.js","webpack:///external \"express\"","webpack:///external \"path\"","webpack:///external \"http-proxy-middleware\"","webpack:///src/server/app.js","webpack:///external \"react-router\"","webpack:///external \"react-context-component\"","webpack:///src/server/render.js","webpack:///external \"react-dom/server\"","webpack:///src/shared/App.js","webpack:///external \"prop-types\"","webpack:///external \"react-router-dom\"","webpack:///./src/shared/logo.svg"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6cb9eca48d7f35935583","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","import express from 'express'\nimport path from 'path'\nimport proxy from 'http-proxy-middleware'\n\nimport reactApp from './app'\n\nconst host = process.env.REACT_APP_HOST || 'localhost'\nconst serverPort = process.env.NODE_ENV === 'development'?\n  process.env.REACT_APP_SERVER_PORT :\n  process.env.REACT_APP_PORT || 80\n\nconst app = express()\n\nif (process.env.NODE_ENV === 'production') {\n  // In production we want to serve our JavaScripts from a file on the file\n  // system.\n  app.use('/static', express.static(path.join(process.cwd(), 'build/client/static')));\n} else {\n  // Otherwise we want to proxy the webpack development server.\n  app.use(['/static','/sockjs-node'], proxy({\n    target: `http://localhost:${process.env.REACT_APP_CLIENT_PORT}`,\n    ws: true,\n    logLevel: 'error'\n  }));\n}\n\napp.use('/', express.static('build/client'))\n\napp.use(reactApp)\n\napp.listen(serverPort)\nconsole.log(`Listening at http://${host}:${serverPort}`)\n\n\n// WEBPACK FOOTER //\n// src/server/index.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"http-proxy-middleware\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http-proxy-middleware\"\n// module id = 4\n// module chunks = 0","import React from 'react'\nimport { StaticRouter as Router } from 'react-router'\nimport Context from 'react-context-component'\n\nimport render from './render'\nimport App from '../shared/App'\n\nconst ErrorPage = () => <h1>Oops there was an error</h1>\n\nconst reactApp = (req, res) => {\n  const context = {}\n  let HTML\n  let status = 200\n\n  const setStatus = (newStatus) => {\n    status = newStatus\n  }\n\n  try {\n    HTML = render(\n      <Context setStatus={setStatus}>\n        <Router context={{}} location={req.url}>\n          <App />\n        </Router>\n      </Context>\n    )\n  } catch (error) {\n    HTML = render(ErrorPage)\n    status = 500\n  }\n\n  if (context.url) {\n    res.redirect(301, context.url)\n  } else {\n    res.status(status).send(HTML)\n  }\n}\n\nexport default reactApp\n\n\n\n// WEBPACK FOOTER //\n// src/server/app.js","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"react-context-component\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-context-component\"\n// module id = 7\n// module chunks = 0","import { renderToString } from 'react-dom/server'\n\nconst DEV = process.env.NODE_ENV === 'development'\nconst assetManifest = JSON.parse(process.env.REACT_APP_ASSET_MANIFEST || '{}')\nconst bundleUrl = DEV ?\n  '/static/js/bundle.js' :\n  `/${assetManifest['main.js']}`\nconst css = DEV ?\n  '' : // in DEV the css is hot loaded\n  `<link href=\"/${assetManifest['main.css']}\" media=\"all\" rel=\"stylesheet\" />`\n\nexport default (component) => `\n  <!DOCTYPE html>\n    <html lang=\"en\">\n      <head>\n        <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n        <meta name=\"theme-color\" content=\"#000000\">\n        ${css}\n        <link rel=\"manifest\" href=\"/public/manifest.json\">\n        <link rel=\"shortcut icon\" href=\"/public/favicon.ico\">\n        <title>React App</title>\n      </head>\n      <body>\n        <div id=\"root\">${renderToString(component)}</div>\n        <script type=\"application/javascript\" src=\"${bundleUrl}\"></script>\n      </body>\n  </html>\n`\n\n\n\n// WEBPACK FOOTER //\n// src/server/render.js","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 9\n// module chunks = 0","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Route,\n  Switch,\n  Link\n} from 'react-router-dom';\n\nimport logo from './logo.svg';\n\nconst Header = () => (\n  <div className=\"App-header\">\n    <img src={logo} className=\"App-logo\" alt=\"logo\" />\n    <h2>Welcome to Universal React</h2>\n  </div>\n)\n\nexport const PageNotFound = (props, context = {}) => {\n  if (context.setStatus) {\n    context.setStatus(404)\n  }\n  \n  return (\n    <div>\n      <h1>\n        Page not found\n      </h1>\n      <Link to=\"/\">\n        Go home\n      </Link>\n    </div>\n  )\n}\nPageNotFound.contextTypes = {\n  setStatus: PropTypes.func.isRequired\n}\n\nconst TestRouterPage = ({ match }) => (\n  <div className=\"App-intro\">\n    <p>\n      Test page {match.params.id}\n    </p>\n    <p>\n    <Link to={`/`}>\n      Home\n    </Link>\n    </p>\n    <p>\n      <Link to={`/aljlskaklksdkfaj falsflasd`}>\n        Go to non-existent page\n      </Link>\n    </p>\n  </div>\n)\n\nconst Home = () => (\n  <div className=\"App-intro\">\n    <p>To get started, edit <code>src/shared/App.js</code> and save to reload.</p>\n    <Link to={`/test/123`}>\n      Test the router\n    </Link>\n  </div>\n)\n\nconst App = () => (\n  <div className=\"App\">\n    <Route path=\"/\" component={ ({ match }) => (\n      <div>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home}/>\n          <Route exact path=\"/test/:id\" component={TestRouterPage}/>\n          <Route component={PageNotFound}/>\n        </Switch>\n      </div>\n    )}/>\n  </div>\n)\n\nexport default App\n\n\n\n// WEBPACK FOOTER //\n// src/shared/App.js","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 12\n// module chunks = 0","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/shared/logo.svg\n// module id = 13\n// module chunks = 0"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;A;;;;AC7DA;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC/BA;;;;;;ACAA;;;;;;ACAA;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACtCA;;;;;;ACAA;;;;;;;ACAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AACA;AAGA;AAAA;AAAA;;;;;;ACXA;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AACA;AAMA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AASA;AACA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AATA;AADA;AACA;AAiBA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AACA;AAQA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AACA;AAcA;;;;;;AChFA;;;;;;ACAA;;;;;;ACAA;;;A","sourceRoot":""}